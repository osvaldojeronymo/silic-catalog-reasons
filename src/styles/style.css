@import url('./theme.css');
@import url('./template.css');
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@600;700&display=swap');

:root{
  --space-1: 6px;
  --space-2: 10px;
  --space-3: 16px;
  --space-4: 24px;
  --space-5: 32px;

  --fs-0: 0.85rem;
  --fs-1: 0.95rem;
  --fs-2: 1.05rem;
  --fs-3: 1.25rem;
  --ring: 2px solid #1d4ed8; /* foco acessível */

  /* Guia de estilos sugerido */
  --blue: #1976d2;
  --bg-gray: #f8f9fa;
  --green: #4caf50;
  --orange: #ff9800;
  --red: #f44336;
}

/* Tipografia global: Poppins para títulos, Inter para texto */
body{ line-height:1.6; background: var(--bg-gray); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: #111827; }
header.header{ padding: var(--space-4) var(--space-3); background: #fff; color: #111827; border-bottom: 1px solid #e5e7eb; }
header.header{ position:sticky; top:0; z-index:30; box-shadow:0 2px 10px rgba(0,0,0,.04); }
header .title{ font-size: 20px; margin: 0; font-family: Poppins, Inter, system-ui, sans-serif; font-weight: 700; }
header .header-bar{ display:flex; align-items: center; justify-content: space-between; gap: 16px; }
header .header-bar .left{ display:flex; align-items: center; gap: 12px; flex-wrap: wrap; }
header .subtle-version{ font-size: 12px; color: #6b7280; margin-right: 8px; }
header .btn-primary{ background:#2563eb; color:#fff; border-color: #2563eb; }
header .btn-primary:hover{ background:#1d4ed8; border-color:#1d4ed8; filter:none; transform:none; }
header .btn-primary:active{ transform: translateY(0); }
header .btn-primary:focus-visible{ box-shadow: 0 0 0 3px rgba(59,130,246,.4); }
@media (max-width: 720px){
  header .header-bar{ flex-direction: column; align-items: flex-start; gap: 8px; }
  header .right{ width: 100%; display: flex; justify-content: flex-end; }
}
main{ max-width: 1100px; margin: var(--space-4) auto; padding: 0 var(--space-3) var(--space-5); }

.toolbar{
  display:grid; gap: var(--space-2);
  grid-template-columns: 2fr repeat(4,1fr);
  padding: var(--space-3);
  background: var(--surface); border:1px solid var(--border);
  border-radius: var(--radius-card,12px);
}
@media (max-width: 960px){
  .toolbar{ grid-template-columns: 1fr 1fr; }
  .toolbar > *:last-child{ grid-column: 1 / -1; }
}
@media (max-width: 600px){
  .toolbar{ grid-template-columns: 1fr; position: static; }
}
.toolbar select,
.toolbar input{ min-height: 42px; }
.toolbar input{
  padding-left: 36px; /* espaço para ícone */
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="%239aa3b2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>');
  background-repeat: no-repeat;
  background-position: 10px 50%;
}
.toolbar input::placeholder{ color: #9aa3b2; }

/* Selects com aparência de chip arredondado */
.toolbar select{
  border-radius: 999px;
  padding: 8px 12px;
  box-shadow: 0 1px 3px rgba(0,0,0,.04);
}

.toolbar select:focus-visible,
.toolbar input:focus-visible,
.toolbar button:focus-visible,
a:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(29,78,216,.25);
  border-color: #93c5fd;
}
.toolbar button{
  min-height: 42px;
  border-radius: 12px;
}
.toolbar button:hover{ filter: brightness(1.02); }
.toolbar button:active{ transform: translateY(1px); }
.grid{ display:grid; gap: var(--space-3); margin-top: var(--space-3); grid-template-columns: repeat(12,1fr); }
.grid > .card{ grid-column: span 6; }
@media (max-width:1024px){ .grid > .card{ grid-column: span 12; } }

.card{ border-left:4px solid transparent; border:1px solid var(--border); background: var(--surface); border-radius: var(--radius-card,12px); padding:14px 16px; transition: transform .12s ease, box-shadow .12s ease; }
.card:hover{ transform: translateY(-2px); box-shadow:0 12px 24px rgba(0,0,0,.08); }
.card--ok{ border-left-color: var(--ok); }
.card--warn{ border-left-color: var(--warn); }
.card--err{ border-left-color: var(--err); }

.card-title{
  font-size: var(--fs-2);
  font-weight: 700;
  letter-spacing: .2px;
  font-family: Inter, system-ui, sans-serif;
  margin:4px 0 6px;
}
.card-meta{
  display: flex; flex-wrap: wrap; gap: 10px 16px;
  color: var(--muted); font-size: var(--fs-1);
}
.card-desc{ margin-top: 4px; }

details{ margin-top: var(--space-1); }
summary{
  cursor: pointer; font-weight: 700;
  list-style: none; position: relative; padding-left: 18px;
}
summary::before{
  content: "▸"; position: absolute; left: 0; top: 0;
  transform: translateY(2px); transition: transform .12s ease;
}
details[open] summary::before{ transform: rotate(90deg) translateX(2px); }
details p{ margin: 8px 0 0 0; color: #374151; }

.empty, .error{
  background: var(--card); border-radius: var(--radius); box-shadow: var(--shadow);
  padding: 20px; text-align: center;
}
.loading{ padding: 20px; color: var(--muted); text-align:center; }
.error{ border-left: 4px solid #ef4444; }
.empty{ border-left: 4px solid #10b981; }

.sr-only{
  position:absolute!important; width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;
  clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

@media (prefers-color-scheme: dark){
  :root{
    --bg: #0f172a;
    --card: #0b1020;
    --text: #e5e7eb;
    --muted: #94a3b8;
    --shadow: 0 12px 28px rgba(0,0,0,.35);
  }
  .tag{ background:#0f1c3a; }
  .pill{ background:#2a1a00; color:#fcd34d; }
  .toolbar select, .toolbar input{ background:#0b1020; color:var(--text); border-color:#1f2937; }
}

@media (prefers-reduced-motion: reduce){
  *{ transition:none!important; animation:none!important; }
}

header{ background: linear-gradient(90deg, #0d2a8a, var(--brand)); }
.tag{ font-weight: 600; }
.code{ color: var(--blue); font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }

/* Vars opcionais (se já tiver, ignore) */
:root{
  --radius-pill: 999px;
  --tag-bg: #e0e7ff;    /* +contraste que #eef2ff */
  --tag-fg: #1e3a8a;    /* azul mais escuro para AA */
  --pill-bg: #ffedd5;   /* amber-100 */
  --pill-fg: #92400e;   /* amber-800 */
  --pill-border: #fed7aa;
}

/* TAG: alinhamento, contraste, foco acessível */
.tag{
  display: inline-flex;
  align-items: center;
  gap: .35em;
  padding: .25em .6em;                /* ~4px 10px, mas responsivo */
  font-size: .75rem;
  line-height: 1.2;
  border-radius: var(--radius-pill);
  background: var(--tag-bg);
  color: var(--brand, var(--tag-fg));
  font-weight: 600;                    /* 700 pode “pesar” em telas ruins */
  letter-spacing: .2px;
  white-space: nowrap;                 /* evita quebrar em telas estreitas */
}
.tag:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(29,78,216,.25);
}

/* CODE inline: legível, sem “estourar” layout */
.code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: .85rem;
  color: var(--muted);
  background: rgba(148,163,184,.12);   /* leve contraste */
  padding: 0 .25em;
  border-radius: 4px;
  overflow-wrap: anywhere;             /* evita overflow em strings longas */
}

/* Texto secundário */
.muted{
  color: var(--muted);
  font-size: .9rem;                    /* ok — não reduza mais que isso */
}

/* Details/summary: clique e foco melhores */
details{ margin-top: 6px; }
summary{
  cursor: pointer;
  font-weight: 700;
  list-style: none;                    /* remove marcador nativo inconsistente */
}
summary:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(29,78,216,.25);
  border-radius: 6px;
}

/* Rodapé */
.footer{
  text-align: center;
  margin-top: 28px;
  color: var(--muted);
  font-size: .85rem;
}

/* Lista: ações */
/* Paginação */
.pagination{ display:flex; align-items:center; justify-content:space-between; gap: 8px; margin: 16px 0 28px; }
.pagination-left select{ min-height: 38px; }
.pagination-nav{ display:flex; align-items:center; gap: 8px; }
.page-numbers{ display:flex; gap: 6px; }
.page-btn{ min-width: 36px; min-height: 36px; padding: 6px 10px; border-radius: 10px; border:1px solid #d1d5db; background:white; cursor:pointer; }
.page-btn[aria-current="page"]{ background:#111827; color:white; border-color:#111827; }
.page-btn[disabled], .btn[disabled]{ opacity:.6; cursor:not-allowed; }

/* Densidade compacta: reduz paddings, gaps e fontes sutis */
:root[data-compact]{
  --space-2: 8px;
  --space-3: 12px;
  --fs-1: 0.9rem;
  --fs-2: 1.0rem;
}
:root[data-compact] .card{ padding: 10px 12px; }
:root[data-compact] .card-meta{ gap: 6px 10px; font-size: 0.9rem; }
:root[data-compact] .grid{ gap: 12px; }
:root[data-compact] .pagination{ margin: 12px 0 20px; }

/* Pill: contraste + borda sutil */
.pill{ display:inline-flex; align-items:center; gap:.35em; padding:4px 10px; border-radius:var(--radius-pill,999px); font-size:.7rem; font-weight:600; background:#eef2ff; color: var(--brand); border:1px solid rgba(37,99,235,.25); }

/* Variações de pill por situação (exemplo) */
.pill.success{ background: #e8f5e9; color: #1b5e20; border-color:#c8e6c9; }
.pill.warn{ background: #fff3e0; color:#e65100; border-color:#ffe0b2; }
.pill.error{ background: #ffebee; color:#b71c1c; border-color:#ffcdd2; }

/* Dark mode (opcional) */
@media (prefers-color-scheme: dark){
  .tag{ background: #0f1c3a; color: #c7d2fe; }
  .code{ background: rgba(148,163,184,.18); color: #cbd5e1; }
  .pill{ background: #2a1a00; color:#fcd34d; border-color:#451a03; }
}

/* Viewbar: ações e contagem */
.viewbar{
  display:flex; align-items:center; justify-content:space-between;
  margin-top: var(--space-3);
}
.btn{ cursor:pointer; border:1px solid #d1d5db; background:white; padding:8px 12px; border-radius:10px; }
.btn:hover{ background:#f9fafb; }
.btn-ghost{ background:transparent; border-color:transparent; }
.btn-secondary{ background:#0f172a; color:white; border-color:#0f172a; }
.btn-primary{ background:#1d4ed8; color:white; border-color:#1d4ed8; }
.results-info{ color: var(--muted); font-size:.9rem; margin-right:8px; }

/* Chips de filtros ativos */
.chips{ display:flex; flex-wrap:wrap; gap:8px; margin:10px 0 0; }
.chip{ display:inline-flex; align-items:center; gap:.4rem; background: rgba(37,99,235,.08); color: var(--brand); border:1px solid rgba(37,99,235,.25); padding:6px 10px; border-radius: var(--radius-pill,999px); font-size:.75rem; }
.chip button{ border:0; background:transparent; cursor:pointer; color:inherit; font-size:.9em; line-height:1; padding:0; }

/* Skeleton */
.loading{ display:grid; gap:12px; }
.skel{ height:64px; border-radius:10px; background: linear-gradient(90deg,#eee 25%, #f5f5f5 37%, #eee 63%); background-size:400% 100%; animation: shimmer 1.2s infinite; }
@keyframes shimmer{0%{background-position:100% 0}100%{background-position:-100% 0}}

/* Empty state CTA */
.empty{ text-align:center; padding:36px 16px; color: var(--muted); border:1px dashed var(--border); border-radius: var(--radius-card,12px); background: var(--surface); }

/* Botões refinados */
.btn{ display:inline-flex; align-items:center; justify-content:center; gap:.5rem; min-height:36px; padding:8px 12px; border-radius:10px; border:1px solid var(--border); background: var(--surface); color: var(--text); cursor:pointer; transition: transform .06s ease, box-shadow .12s ease, background .12s ease; }
.btn:hover{ box-shadow:0 6px 16px rgba(0,0,0,.08); }
.btn:active{ transform: translateY(1px); }
.btn-primary{ background: var(--brand); border-color: var(--brand); color:#fff; }
.btn-primary:hover{ background: var(--brand-strong); border-color: var(--brand-strong); }
.btn-secondary{ background: rgba(0,0,0,.03); }

/* Cards de resumo por categoria */
.cat-card{
  display:flex; align-items:center; justify-content:space-between;
  width:100%; max-width: 520px;
  padding: 14px 18px; border-radius: 12px;
  background: white; border:1px solid #e5e7eb; box-shadow: 0 2px 8px rgba(0,0,0,.04);
  transition: transform .12s ease, box-shadow .12s ease; text-align:left;
}
.cat-card:hover{ transform: translateY(-1px); box-shadow: 0 10px 20px rgba(0,0,0,.08); }
.cat-name{ font-weight: 700; display:flex; align-items:center; gap:.5rem; }
.cat-name::before{
  content: attr(data-icon);
}
.cat-count{ font-size:.9rem; color: var(--muted); }
